---
title: "Get all observations into one workable file"
author: "Misha Leong"
date: "May 1, 2018"
output: html_document
---

```{r loading files}
library(tidyverse)
library(ggmap)
library(rgdal)
library(sp)

# 2016 data
all2016 <- read.csv(("all2016.csv"))

# 2017 data minus salt lake city and duluth
all2017 <- read.csv(("all2017.csv"))

# Eventually add 2018 data here

# I even made a goddamn nlcd legend myself
nlcd_legend <- read.csv("nlcd_legend.csv")


```

## Next Steps to put it all in one file
```{r}
# If I need to directly compare the 2016 and 2017 datasets, need to be aware that I can't do a direct rbind. For some reason I downloaded kingdom and phylum data for 2016 but not 2017, and I downloaded gneus data for 2017 but not 2016, so I'll just eliminate all of those columns when I put it together.  Genus data is in scientific name column anyway

all6 <- all2016 %>%
  mutate(year = 2016) %>%
  select(-taxon_kingdom_name) %>%
  select(-taxon_phylum_name)

all7 <- all2017 %>%
  mutate(year = 2017) %>%
  select(-taxon_genus_name)

#adjust 2018 data here appropriately

all <- bind_rows(all6,all7)

```


```{r filter data to useful georeferencing coordinates}
all_filtered <- all %>%
  filter(coordinates_obscured == "false")
  
```


```{r save this file for future use}
write.csv(all_filtered, "all_master.csv")
```

## Then do some cool analyses here

okay!

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
